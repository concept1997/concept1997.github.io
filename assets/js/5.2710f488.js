(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{170:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("p",[t._v("官方文档：https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create")]),t._v(" "),t._m(2),t._m(3),t._v(" "),e("p",[t._v("官方文档：https://v3.cn.vuejs.org/guide/installation.html#vite")]),t._v(" "),e("p",[t._v("vite官网：https://vitejs.cn")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),e("p",[t._v("官方文档: https://v3.cn.vuejs.org/guide/composition-api-introduction.html")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),e("ul",[e("li",[t._v("作用: 定义一个响应式的数据")]),t._v(" "),e("li",[t._v("语法: "),e("code",[t._v("const xxx = ref(initValue)")]),t._v(" "),e("ul",[t._m(11),t._v(" "),t._m(12),t._v(" "),e("li",[t._v("模板中读取数据: 不需要.value，直接："),e("code",[t._v("<div>"+t._s(t.xxx)+"</div>")])])])]),t._v(" "),t._m(13)]),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24)])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"一、创建vue3-0工程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、创建vue3-0工程"}},[this._v("#")]),this._v(" 一、创建Vue3.0工程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-使用-vue-cli-创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用-vue-cli-创建"}},[this._v("#")]),this._v(" 1.使用 vue-cli 创建")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 查看@vue/cli版本，确保@vue/cli版本在4.5.0以上")]),t._v("\nvue --version\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 安装或者升级你的@vue/cli")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g @vue/cli\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 创建")]),t._v("\nvue create vue_test\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 启动")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" vue_test\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run serve\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_2-使用-vite-创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用-vite-创建"}},[this._v("#")]),this._v(" 2.使用 vite 创建")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("什么是vite？—— 新一代前端构建工具。")]),t._v(" "),e("li",[t._v("优势如下：\n"),e("ul",[e("li",[t._v("开发环境中，无需打包操作，可快速的冷启动。")]),t._v(" "),e("li",[t._v("轻量快速的热重载（HMR）。")]),t._v(" "),e("li",[t._v("真正的按需编译，不再等待整个应用编译完成。")])])]),t._v(" "),e("li",[t._v("传统构建 与 vite构建对比图")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{staticStyle:{width:"500px",height:"280px",float:"left"},attrs:{src:"https://cn.vitejs.dev/assets/bundler.37740380.png"}}),s("img",{staticStyle:{width:"480px",height:"280px"},attrs:{src:"https://cn.vitejs.dev/assets/esm.3070012d.png"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 创建工程")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init vite-app "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("project-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 进入工程目录")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("project-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 安装依赖")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 运行")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"二、常用-composition-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、常用-composition-api"}},[this._v("#")]),this._v(" 二、常用 Composition API")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-拉开序幕的setup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-拉开序幕的setup"}},[this._v("#")]),this._v(" 1.拉开序幕的setup")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ol",[e("li",[t._v("理解：Vue3.0中一个新的配置项，值为一个函数。")]),t._v(" "),e("li",[t._v("setup是所有"),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("Composition API（组合API）")]),e("i",{staticStyle:{color:"gray","font-weight":"bold"}},[t._v("“ 表演的舞台 ”")]),t._v("。")]),t._v(" "),e("li",[t._v("组件中所用到的：数据、方法等等，均要配置在setup中。")]),t._v(" "),e("li",[t._v("setup函数的两种返回值：\n"),e("ol",[e("li",[t._v("若返回一个对象，则对象中的属性、方法, 在模板中均可以直接使用。（重点关注！）")]),t._v(" "),e("li",[e("span",{staticStyle:{color:"#aad"}},[t._v("若返回一个渲染函数：则可以自定义渲染内容。（了解）")])])])]),t._v(" "),e("li",[t._v("注意点：\n"),e("ol",[e("li",[t._v("尽量不要与Vue2.x配置混用\n"),e("ul",[e("li",[t._v("Vue2.x配置（data、methos、computed...）中"),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("可以访问到")]),t._v("setup中的属性、方法。")]),t._v(" "),e("li",[t._v("但在setup中"),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("不能访问到")]),t._v("Vue2.x配置（data、methos、computed...）。")]),t._v(" "),e("li",[t._v("如果有重名, setup优先。")])])]),t._v(" "),e("li",[t._v("setup不能是一个async函数，因为返回值不再是return的对象, 而是promise, 模板看不到return对象中的属性。（后期也可以返回一个Promise实例，但需要Suspense和异步组件的配合）")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_2-ref函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ref函数"}},[this._v("#")]),this._v(" 2.ref函数")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("创建一个包含响应式数据的"),s("strong",{staticStyle:{color:"#DD5145"}},[this._v("引用对象（reference对象，简称ref对象）")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("JS中操作数据： "),s("code",[this._v("xxx.value")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",[t._v("备注：\n"),e("ul",[e("li",[t._v("接收的数据可以是：基本类型、也可以是对象类型。")]),t._v(" "),e("li",[t._v("基本类型的数据：响应式依然是靠"),e("code",[t._v("Object.defineProperty()")]),t._v("的"),e("code",[t._v("get")]),t._v("与"),e("code",[t._v("set")]),t._v("完成的。")]),t._v(" "),e("li",[t._v("对象类型的数据：内部 "),e("i",{staticStyle:{color:"gray","font-weight":"bold"}},[t._v("“ 求助 ”")]),t._v(" 了Vue3.0中的一个新函数—— "),e("code",[t._v("reactive")]),t._v("函数。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_3-reactive函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-reactive函数"}},[this._v("#")]),this._v(" 3.reactive函数")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("作用: 定义一个"),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("对象类型")]),t._v("的响应式数据（基本类型不要用它，要用"),e("code",[t._v("ref")]),t._v("函数）")]),t._v(" "),e("li",[t._v("语法："),e("code",[t._v("const 代理对象= reactive(源对象)")]),t._v("接收一个对象（或数组），返回一个"),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("代理对象（Proxy的实例对象，简称proxy对象）")])]),t._v(" "),e("li",[t._v("reactive定义的响应式数据是“深层次的”。")]),t._v(" "),e("li",[t._v("内部基于 ES6 的 Proxy 实现，通过代理对象操作源对象内部数据进行操作。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_4-vue3-0中的响应式原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-vue3-0中的响应式原理"}},[this._v("#")]),this._v(" 4.Vue3.0中的响应式原理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"vue2-x的响应式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue2-x的响应式"}},[this._v("#")]),this._v(" vue2.x的响应式")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("p",[t._v("实现原理：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("对象类型：通过"),e("code",[t._v("Object.defineProperty()")]),t._v("对属性的读取、修改进行拦截（数据劫持）。")])]),t._v(" "),e("li",[e("p",[t._v("数组类型：通过重写更新数组的一系列方法来实现拦截。（对数组的变更方法进行了包裹）。")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'count'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])])])])]),t._v(" "),e("li",[e("p",[t._v("存在问题：")]),t._v(" "),e("ul",[e("li",[t._v("新增属性、删除属性, 界面不会更新。")]),t._v(" "),e("li",[t._v("直接通过下标修改数组, 界面不会自动更新。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"vue3-0的响应式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue3-0的响应式"}},[this._v("#")]),this._v(" Vue3.0的响应式")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("实现原理:\n"),e("ul",[e("li",[t._v("通过Proxy（代理）:  拦截对象中任意属性的变化, 包括：属性值的读写、属性的添加、属性的删除等。")]),t._v(" "),e("li",[t._v("通过Reflect（反射）:  对源对象的属性进行操作。")]),t._v(" "),e("li",[t._v("MDN文档中描述的Proxy与Reflect：\n"),e("ul",[e("li",[e("p",[t._v("Proxy：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy")])]),t._v(" "),e("li",[e("p",[t._v("Reflect：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 拦截读取属性值")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Reflect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 拦截设置属性值或添加新属性")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Reflect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 拦截删除属性")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteProperty")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Reflect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteProperty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nproxy"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tom'")]),t._v("   \n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br")])])])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_5-reactive对比ref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-reactive对比ref"}},[this._v("#")]),this._v(" 5.reactive对比ref")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("从定义数据角度对比：\n"),e("ul",[e("li",[t._v("ref用来定义："),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("基本类型数据")]),t._v("。")]),t._v(" "),e("li",[t._v("reactive用来定义："),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("对象（或数组）类型数据")]),t._v("。")]),t._v(" "),e("li",[t._v("备注：ref也可以用来定义"),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("对象（或数组）类型数据")]),t._v(", 它内部会自动通过"),e("code",[t._v("reactive")]),t._v("转为"),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("代理对象")]),t._v("。")])])]),t._v(" "),e("li",[t._v("从原理角度对比：\n"),e("ul",[e("li",[t._v("ref通过"),e("code",[t._v("Object.defineProperty()")]),t._v("的"),e("code",[t._v("get")]),t._v("与"),e("code",[t._v("set")]),t._v("来实现响应式（数据劫持）。")]),t._v(" "),e("li",[t._v("reactive通过使用"),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("Proxy")]),t._v("来实现响应式（数据劫持）, 并通过"),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("Reflect")]),t._v("操作"),e("strong",{staticStyle:{color:"orange"}},[t._v("源对象")]),t._v("内部的数据。")])])]),t._v(" "),e("li",[t._v("从使用角度对比：\n"),e("ul",[e("li",[t._v("ref定义的数据：操作数据"),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("需要")]),e("code",[t._v(".value")]),t._v("，读取数据时模板中直接读取"),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("不需要")]),e("code",[t._v(".value")]),t._v("。")]),t._v(" "),e("li",[t._v("reactive定义的数据：操作数据与读取数据："),e("strong",{staticStyle:{color:"#DD5145"}},[t._v("均不需要")]),e("code",[t._v(".value")]),t._v("。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_6-setup的两个注意点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-setup的两个注意点"}},[this._v("#")]),this._v(" 6.setup的两个注意点")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("p",[t._v("setup执行的时机")]),t._v(" "),e("ul",[e("li",[t._v("在beforeCreate之前执行一次，this是undefined。")])])]),t._v(" "),e("li",[e("p",[t._v("setup的参数")]),t._v(" "),e("ul",[e("li",[t._v("props：值为对象，包含：组件外部传递过来，且组件内部声明接收了的属性。")]),t._v(" "),e("li",[t._v("context：上下文对象\n"),e("ul",[e("li",[t._v("attrs: 值为对象，包含：组件外部传递过来，但没有在props配置中声明的属性, 相当于 "),e("code",[t._v("this.$attrs")]),t._v("。")]),t._v(" "),e("li",[t._v("slots: 收到的插槽内容, 相当于 "),e("code",[t._v("this.$slots")]),t._v("。")]),t._v(" "),e("li",[t._v("emit: 分发自定义事件的函数, 相当于 "),e("code",[t._v("this.$emit")]),t._v("。")])])])])])])}],!1,null,null,null);s.default=n.exports}}]);